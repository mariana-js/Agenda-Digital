CREATE TABLE SETOR (
	ID_SETOR UUID NOT NULL UNIQUE CONSTRAINT PK_ID_SETOR PRIMARY KEY,
	NOME_SETOR VARCHAR(40),
	SIGLA_SETOR VARCHAR(5)
);

CREATE TABLE RAMAL (
	NUMERO_RAMAL VARCHAR(10) UNIQUE CONSTRAINT PK_NUMERO_RAMAL PRIMARY KEY
);

CREATE TABLE SETOR_RAMAL (
    ID_SETOR_RAMAL UUID NOT NULL CONSTRAINT PK_ID_RAMAL PRIMARY KEY,
	
	ID_SETOR UUID  NOT NULL,
    CONSTRAINT FK_ID_SETOR FOREIGN KEY (ID_SETOR) REFERENCES SETOR(ID_SETOR),
	
    ID_RAMAL_SETOR VARCHAR(10) NOT NULL,
    CONSTRAINT FK_ID_RAMAL_SETOR FOREIGN KEY (ID_RAMAL_SETOR) REFERENCES RAMAL(NUMERO_RAMAL)
);



CREATE TABLE PESSOA (
	ID_PESSOA UUID NOT NULL UNIQUE CONSTRAINT PK_ID_PESSOA PRIMARY KEY,
	NOME_PESSOA VARCHAR(50),
	EMAIL VARCHAR(50) UNIQUE,
	CELULAR_CORPORATIVO VARCHAR(16),
	CELULAR_PESSOAL VARCHAR(16) UNIQUE,
	TELEFONE VARCHAR(16),
	FLAG_PRIVADO BOOLEAN ,
	FLAG_FUNCIONARIO BOOLEAN
);

CREATE TABLE ENDERECO (
	ID_ENDERECO UUID NOT NULL CONSTRAINT PK_ID_ENDERECO PRIMARY KEY,
    ID_PESSOA UUID NOT NULL,
    CONSTRAINT FK_ID_PESSOA FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID_PESSOA),
    ESTADO VARCHAR(20),
    LOGRADOURO VARCHAR(70),
    CIDADE VARCHAR(20),
    CEP VARCHAR(12),
    BAIRRO VARCHAR(20),
    UF VARCHAR(2)
);

CREATE TABLE FUNCIONARIO (
	ID_FUNCIONARIO UUID NOT NULL UNIQUE CONSTRAINT PK_ID_FUNCIONARIO PRIMARY KEY,
	
    ID_SETOR UUID NOT NULL,
    CONSTRAINT FK_ID_SETOR FOREIGN KEY (ID_SETOR) REFERENCES SETOR(ID_SETOR),
	
    NUMERO_RAMAL VARCHAR(10) NULL,
    CONSTRAINT FK_NUMERO_RAMAL FOREIGN KEY (NUMERO_RAMAL) REFERENCES RAMAL(NUMERO_RAMAL),	
	
	DATA_NASCIMENTO DATE NULL,
	FLAG_ADMINISTRADOR BOOLEAN
	
) INHERITS(PESSOA);


